import React, { useState, useEffect } from 'react';
import { Briefcase, GraduationCap, Lightbulb, Mail, MapPin, Phone, User, FileText, Building, Users, Award } from 'lucide-react';

// Main App Component
export default function App() {
    const [activeSection, setActiveSection] = useState('home');

    // Data extracted from your documents
    const portfolioData = {
        name: "MD Hazrat Ali",
        title: "Civil Engineering Graduate & Research Assistant",
        tagline: "Passionate about sustainable infrastructure and environmental engineering.",
        about: "A dedicated and ambitious Civil Engineering graduate from Chittagong University of Engineering and Technology (CUET). With a strong academic record, including a CGPA of 3.63/4.00 and a class rank of 4th out of 132, I have consistently demonstrated a commitment to excellence. My passion lies in developing sustainable infrastructure and contributing to projects that enhance community development and environmental well-being.",
        contact: {
            phone: "01734-987131",
            email: "contact@enghazrat.com",
            address: "Raozan, Chattogram, Bangladesh"
        },
        education: [
            {
                degree: "Bachelor of Science in Civil Engineering",
                institution: "Chittagong University of Engineering and Technology (CUET)",
                duration: "2020 - 2025",
                achievements: "CGPA: 3.63/4.00, Class Rank: 4th"
            },
            {
                degree: "Higher Secondary Certificate (HSC)",
                institution: "New Govt Degree College, Rajshahi",
                duration: "2017 - 2019",
                achievements: "GPA: 5.00/5.00"
            },
             {
                degree: "Secondary School Certificate (SSC)",
                institution: "Rajshahi",
                duration: "2015 - 2017",
                achievements: "GPA: 5.00/5.00"
            }
        ],
        experience: [
            {
                role: "Research Assistant",
                organization: "Chittagong University of Engineering & Technology (CUET)",
                duration: "Aug 2025 - Present",
                responsibilities: "Engaged in cutting-edge research within the civil engineering department, contributing to various ongoing studies and academic publications."
            },
            {
                role: "Advertising Secretary",
                organization: "Greater Rajshahi Association of CUET",
                duration: "2023 - 2024",
                responsibilities: "Organized promotional campaigns to enhance the associationâ€™s visibility and conducted events to improve student welfare."
            },
            {
                role: "Finance Secretary",
                organization: "Humanity Foundation",
                duration: "2019 - Present",
                responsibilities: "Played an active role in relief efforts for flood-affected communities and participated in organizing blood donation campaigns."
            },
        ],
        skills: {
            technical: ["AUTOCAD", "ETABS", "SPSS", "Python", "GIS", "Water Resource Management"],
            soft: ["Teamwork", "Problem-Solving", "Leadership", "Communication", "Project Management"]
        },
        projects: [
            {
                title: "Industrial Attachment at BWDB",
                description: "Gained hands-on experience in water resource management, including flood control, irrigation, drainage development, and riverbank protection under the Bangladesh Water Development Board (BWDB).",
                outcome: "Acquired practical knowledge of hydraulic infrastructure, contributed to sustainable water management practices, and enhanced problem-solving skills."
            },
            {
                title: "10-Story Hall Analysis and Design Using ETABS",
                description: "Led a team to conduct structural analysis and design for a 10-story hall at the CUET campus using ETABS software, ensuring safety, stability, and cost-efficiency.",
                outcome: "Successfully designed the structure, achieving high standards of structural stability and sustainability."
            },
            {
                title: "Structural Design for Wind & Earthquake Loads",
                description: "Analyzed and designed a 12-story residential building in Dhaka for wind and earthquake loads using BNBC 2020 standards, focusing on seismic resilience.",
                outcome: "Delivered a safe, optimized building design resilient against wind and seismic forces."
            }
        ],
        publications: [
            { title: "Assessment of Hydrological Alteration for the Ganges River in Bangladesh...", journal: "ICWFM, BUET (Springer Book Chapter)", year: 2023 },
            { title: "Performance of Ganges Water Shearing Treaty (GWST): Effects on the Gorai River...", journal: "ICCEI, RUET (Springer Book Chapter)", year: 2025 },
            { title: "Innovation Trend Analysis of Climatic Parameters at Ganges Dependent Area (GDA)...", journal: "ICCEI, RUET (Springer Book Chapter)", year: 2025 },
            { title: "The Effectiveness of Faecal Sludge Management Systems in Chittagong", journal: "ICCESD, KUET (Springer Book Chapter)", year: 2026 },
            { title: "Spatiotemporal assessment of surface water dynamics in the Ganges River...", journal: "ICCESD, KUET (Conference proceedings)", year: 2026 },
            { title: "Comprehensive Assessment and Spatial Mapping of Surface Water Quality Index (WQI)...", journal: "ICCESD, KUET (Conference proceedings)", year: 2026 },
            { title: "Flowing For the Future: How much water is required for sustaining River health...", journal: "Journal of Hydro Environment Research", year: "Submitted" },
        ]
    };

    // Effect to handle scroll-based active section highlighting
    useEffect(() => {
        const sections = document.querySelectorAll('section');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    setActiveSection(entry.target.id);
                }
            });
        }, { rootMargin: "-50% 0px -50% 0px" });

        sections.forEach(section => observer.observe(section));
        return () => sections.forEach(section => observer.unobserve(section));
    }, []);

    // Navigation component
    const Nav = () => (
        <nav className="fixed top-0 left-0 right-0 z-50 bg-gray-900 bg-opacity-80 backdrop-blur-md shadow-lg">
            <div className="container mx-auto px-6 py-3 flex justify-between items-center">
                <a href="#home" className="text-2xl font-bold text-white">HA</a>
                <div className="hidden md:flex space-x-6">
                    {['home', 'about', 'experience', 'projects', 'publications', 'contact'].map(id => (
                        <a key={id} href={`#${id}`} className={`capitalize text-gray-300 hover:text-cyan-400 transition-colors duration-300 ${activeSection === id ? 'text-cyan-400' : ''}`}>{id}</a>
                    ))}
                </div>
                 <button className="md:hidden text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16m-7 6h7" />
                    </svg>
                </button>
            </div>
        </nav>
    );

    // Hero Section
    const HeroSection = () => (
        <section id="home" className="min-h-screen bg-gray-900 text-white flex items-center">
            <div className="container mx-auto px-6 text-center">
                <img src="https://placehold.co/150x150/1a202c/76e4f7?text=HA" alt="MD Hazrat Ali" className="w-40 h-40 rounded-full mx-auto mb-6 border-4 border-cyan-400 shadow-lg"/>
                <h1 className="text-5xl md:text-7xl font-extrabold mb-2">{portfolioData.name}</h1>
                <p className="text-xl md:text-2xl text-cyan-400 mb-4">{portfolioData.title}</p>
                <p className="text-lg text-gray-300 max-w-3xl mx-auto">{portfolioData.tagline}</p>
            </div>
        </section>
    );
    
    // Generic Section component for styling consistency
    const Section = ({ id, title, icon, children }) => (
        <section id={id} className="py-20 px-4 sm:px-6 lg:px-8 bg-gray-800 text-white">
            <div className="container mx-auto">
                <div className="text-center mb-12">
                    <div className="inline-flex items-center justify-center bg-gray-700 p-3 rounded-full mb-4">
                        {React.createElement(icon, { className: "w-8 h-8 text-cyan-400" })}
                    </div>
                    <h2 className="text-4xl font-bold">{title}</h2>
                </div>
                {children}
            </div>
        </section>
    );

    // About Section
    const AboutSection = () => (
        <Section id="about" title="About Me" icon={User}>
            <p className="text-center max-w-4xl mx-auto text-lg text-gray-300 leading-relaxed">{portfolioData.about}</p>
        </Section>
    );

    // Experience & Education Section (Combined for flow)
    const ExperienceEducationSection = () => (
        <Section id="experience" title="Career & Education" icon={Briefcase}>
            <div className="grid md:grid-cols-2 gap-12">
                <div>
                    <h3 className="text-2xl font-semibold mb-6 flex items-center"><GraduationCap className="mr-3 text-cyan-400"/> Education</h3>
                    <div className="space-y-6">
                        {portfolioData.education.map((edu, index) => (
                            <div key={index} className="bg-gray-700 p-6 rounded-lg shadow-md hover:shadow-cyan-500/20 transition-shadow">
                                <h4 className="font-bold text-xl text-cyan-400">{edu.degree}</h4>
                                <p className="text-gray-300">{edu.institution}</p>
                                <p className="text-sm text-gray-400">{edu.duration}</p>
                                <p className="text-sm text-gray-400 mt-1">{edu.achievements}</p>
                            </div>
                        ))}
                    </div>
                </div>
                <div>
                    <h3 className="text-2xl font-semibold mb-6 flex items-center"><Briefcase className="mr-3 text-cyan-400"/> Experience</h3>
                    <div className="space-y-6">
                        {portfolioData.experience.map((exp, index) => (
                            <div key={index} className="bg-gray-700 p-6 rounded-lg shadow-md hover:shadow-cyan-500/20 transition-shadow">
                                <h4 className="font-bold text-xl text-cyan-400">{exp.role}</h4>
                                <p className="text-gray-300">{exp.organization}</p>
                                <p className="text-sm text-gray-400">{exp.duration}</p>
                                <p className="text-gray-300 mt-2">{exp.responsibilities}</p>
                            </div>
                        ))}
                    </div>
                </div>
            </div>
        </Section>
    );

    // Skills Section
    const SkillsSection = () => (
       <section id="skills" className="py-20 px-4 sm:px-6 lg:px-8 bg-gray-900 text-white">
            <div className="container mx-auto">
                <div className="text-center mb-12">
                    <div className="inline-flex items-center justify-center bg-gray-700 p-3 rounded-full mb-4">
                        <Award className="w-8 h-8 text-cyan-400" />
                    </div>
                    <h2 className="text-4xl font-bold">Skills</h2>
                </div>
                <div className="grid md:grid-cols-2 gap-10">
                    <div>
                        <h3 className="text-2xl font-semibold text-center mb-6">Technical Skills</h3>
                        <div className="flex flex-wrap justify-center gap-3">
                            {portfolioData.skills.technical.map((skill, index) => (
                                <span key={index} className="bg-cyan-500 text-gray-900 font-semibold px-4 py-2 rounded-full text-sm">{skill}</span>
                            ))}
                        </div>
                    </div>
                    <div>
                        <h3 className="text-2xl font-semibold text-center mb-6">Soft Skills</h3>
                        <div className="flex flex-wrap justify-center gap-3">
                            {portfolioData.skills.soft.map((skill, index) => (
                                <span key={index} className="bg-gray-700 text-white font-semibold px-4 py-2 rounded-full text-sm">{skill}</span>
                            ))}
                        </div>
                    </div>
                </div>
            </div>
        </section>
    );

    // Projects Section
    const ProjectsSection = () => (
        <Section id="projects" title="Key Projects" icon={Lightbulb}>
            <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                {portfolioData.projects.map((project, index) => (
                    <div key={index} className="bg-gray-700 p-6 rounded-lg shadow-lg flex flex-col hover:transform hover:-translate-y-2 transition-transform duration-300">
                        <h3 className="text-xl font-bold text-cyan-400 mb-2">{project.title}</h3>
                        <p className="text-gray-300 mb-4 flex-grow">{project.description}</p>
                        <div className="mt-auto pt-4 border-t border-gray-600">
                             <h4 className="font-semibold text-gray-200 mb-2">Outcome:</h4>
                             <p className="text-gray-400 text-sm">{project.outcome}</p>
                        </div>
                    </div>
                ))}
            </div>
        </Section>
    );

    // Publications Section
    const PublicationsSection = () => (
        <Section id="publications" title="Research & Publications" icon={FileText}>
            <div className="max-w-4xl mx-auto">
                <ul className="space-y-4">
                    {portfolioData.publications.map((pub, index) => (
                        <li key={index} className="bg-gray-700 p-5 rounded-lg shadow-md transition-all duration-300 hover:bg-gray-600">
                            <p className="font-semibold text-lg text-cyan-400">{pub.title}</p>
                            <p className="text-gray-400 text-sm">{pub.journal} - <span className="font-medium">{pub.year}</span></p>
                        </li>
                    ))}
                </ul>
            </div>
        </Section>
    );

    // Contact Section
    const ContactSection = () => (
        <section id="contact" className="py-20 px-4 sm:px-6 lg:px-8 bg-gray-900 text-white">
            <div className="container mx-auto text-center">
                 <div className="inline-flex items-center justify-center bg-gray-700 p-3 rounded-full mb-4">
                    <Mail className="w-8 h-8 text-cyan-400" />
                </div>
                <h2 className="text-4xl font-bold mb-4">Get In Touch</h2>
                <p className="text-gray-300 max-w-2xl mx-auto mb-8">I'm currently seeking new opportunities and am open to collaborations. Feel free to reach out.</p>
                <div className="flex flex-col md:flex-row justify-center items-center space-y-6 md:space-y-0 md:space-x-10">
                    <div className="flex items-center">
                        <Phone className="w-6 h-6 mr-3 text-cyan-400"/>
                        <a href={`tel:${portfolioData.contact.phone}`} className="text-lg hover:text-cyan-400 transition-colors">{portfolioData.contact.phone}</a>
                    </div>
                    <div className="flex items-center">
                        <Mail className="w-6 h-6 mr-3 text-cyan-400"/>
                        <a href={`mailto:${portfolioData.contact.email}`} className="text-lg hover:text-cyan-400 transition-colors">{portfolioData.contact.email}</a>
                    </div>
                    <div className="flex items-center">
                        <MapPin className="w-6 h-6 mr-3 text-cyan-400"/>
                        <span className="text-lg">{portfolioData.contact.address}</span>
                    </div>
                </div>
            </div>
        </section>
    );
    
    // Footer
    const Footer = () => (
        <footer className="bg-gray-900 border-t border-gray-700 py-6">
            <div className="container mx-auto text-center text-gray-400">
                <p>&copy; {new Date().getFullYear()} MD Hazrat Ali. All Rights Reserved.</p>
                 <p className="text-sm mt-2">Built with React & Tailwind CSS</p>
            </div>
        </footer>
    );

    return (
        <div className="bg-gray-800 font-sans leading-normal tracking-tight">
            <Nav />
            <main>
                <HeroSection />
                <AboutSection />
                <ExperienceEducationSection />
                <SkillsSection />
                <ProjectsSection />
                <PublicationsSection />
                <ContactSection />
            </main>
            <Footer />
        </div>
    );
}
